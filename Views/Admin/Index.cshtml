

@{
    ViewBag.Title = "Ana Sayfa";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<div class="container-fluid px-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="h3 mb-0"><i class="fas fa-home me-2 text-dark"></i>Ana Sayfa</h1>
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb mb-0 bg-transparent p-0">
                <li class="breadcrumb-item"><a href="/Admin/Index"><i class="fas fa-home"></i></a></li>
                <li class="breadcrumb-item active" aria-current="page">Ana Sayfa</li>
            </ol>
        </nav>
    </div>

    <div class="card text-white  mb-3" style="max-width: 100%; ">
        <div class="card-header" style="background-color: #003d60; color: white;">📜 Günlük Motivasyon</div>
        <div class="card-body">
            <blockquote class="blockquote mb-0" style="background-color: white; color: #003d60;">
                <p id="dailyQuote" style="opacity: 20; transition: opacity 1s ease;">Günün sözü yükleniyor...</p>
            </blockquote>
        </div>
    </div>

    <div class="row g-4 mb-5">
        <!-- Günlük Satış Özeti Kartı -->
        <div class="col-xl-4 col-md-6">
            <div class="card shadow-lg border-0 rounded-4 bg-white h-100 card-custom">
                <div class="card-header tablestyle px-4 py-3 rounded-top-4">
                    <h5 class="mb-0 fw-bold">
                        <i class="bi bi-currency-dollar fs-4 me-2"></i> Günün Satış Özeti
                    </h5>
                </div>
                <div class="card-body p-4">
                    <div class="mb-3">
                        <small class="text-muted d-block mb-1">Toplam Satış:</small>
                        <h4 class="text-success fw-bold">@String.Format("{0:C}", ViewBag.GununToplamSatis ?? 0)</h4>
                    </div>

                    <div class="mb-3">
                        <small class="text-muted d-block mb-2 fw-semibold">Günün Giderleri:</small>
                        <div class="ms-2">
                            <div class="d-flex align-items-center mb-2">
                                <i class="bi bi-credit-card text-danger me-2"></i>
                                <span class="me-auto">Kart:</span>
                                <strong class="text-danger">@String.Format("{0:C}", ViewBag.gununKartGiderleri ?? 0)</strong>
                            </div>
                            <div class="d-flex align-items-center mb-2">
                                <i class="bi bi-cash text-danger me-2"></i>
                                <span class="me-auto">Nakit:</span>
                                <strong class="text-danger">@String.Format("{0:C}", ViewBag.gununNakitGiderleri ?? 0)</strong>
                            </div>
                            <div class="d-flex align-items-center">
                                <i class="bi bi-safe text-danger me-2"></i>
                                <span class="me-auto">Kasa:</span>
                                <strong class="text-danger">@String.Format("{0:C}", ViewBag.gununKasaGider ?? 0)</strong>
                            </div>
                        </div>
                    </div>

                    <div class="mb-3">
                        <small class="text-muted d-block fw-semibold mb-1">Yoğunluk Analizi</small>
                        <ul class="list-unstyled ms-2 mb-0">
                            <li><i class="bi bi-clock me-1 text-primary"></i> Ortalama Satış: <strong>@ViewBag.OrtalamaGunlukSatisSayisi</strong></li>
                            <li><i class="bi bi-calendar-day me-1 text-primary"></i> Bugünün En Yoğun Saat Aralığı: <strong>@ViewBag.GununEnYogunSaatAraligi</strong></li>
                            <li><i class="bi bi-calendar-range me-1 text-primary"></i> Genelde En Yoğun Saat Aralığı: <strong>@ViewBag.GenelEnYogunSaatAraligi</strong></li>
                        </ul>
                    </div>

                    <div class="d-flex gap-2 mt-4">
                        <a href="@Url.Action("GelirGider", "GelirGider")" class="btn btn-danger w-50 d-flex align-items-center justify-content-center">
                            <i class="bi bi-cash-stack me-2"></i> Gelir Gider
                        </a>
                        <a href="@Url.Action("RaporPaneli", "GelirGider")" class="btn btn-warning w-50 d-flex align-items-center justify-content-center">
                            <i class="bi bi-bar-chart-line me-2"></i> Raporlar
                        </a>

                        


                    </div>
                </div>
            </div>
        </div>

        <!-- En Çok Satılan Ürünler Kartı -->
        <div class="col-xl-4 col-md-6">
            <div class="card shadow-lg border-0 rounded-4 h-100 card-custom">
                <div class="card-header tablestyle py-3 px-4 rounded-top-4">
                    <h5 class="mb-0 fw-bold">📈 En Çok Satılan Ürünler</h5>
                </div>
                <ul class="list-group list-group-flush">
                    @if (ViewBag.EnCokSatilanUrunler != null)
                    {
                        foreach (var urun in (List<KeyValuePair<string, int>>)ViewBag.EnCokSatilanUrunler)
                        {
                            <li class="list-group-item d-flex justify-content-between align-items-center px-4 py-3">
                                <span class="text-truncate" style="max-width: 70%;">@urun.Key</span>
                                <span class="badge tablestyle rounded-pill px-3 py-1 fs-6">
                                    @urun.Value adet
                                </span>
                            </li>
                        }
                    }
                    else
                    {
                        <li class="list-group-item text-center text-muted py-4">Veri bulunamadı.</li>
                    }
                </ul>
            </div>
        </div>
    </div>
    



    <!-- Sürüm Notları / Yenilikler Alanı -->
    <div class="row mb-5 mt-5">
        <div class="col-xl-8">
            <div class="card ">
                <div class="card-header tablestyle text-white">
                    <strong><i class="bi bi-stars"></i> Yenilikler & Güncellemeler</strong>
                </div>
                <div class="card-body" style="max-height: 300px; overflow-y: auto;">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">
                            <strong>v.1.0</strong> - Tarih: 2025-05-19 | Projenin ilk sürümü yayınlandı.
                        </li>
                        <li class="list-group-item">
                            <strong>v.1.1</strong> - Tarih: 2025-05-19 | Geliştirme hataları giderildi.
                        </li>
                        <li class="list-group-item">
                            <strong>v.1.2</strong> - Tarih: 2025-05-20 | Artık yeni ürün eklerken, barkod okuturken kamera kullanılabilecek.
                        </li>
                        <li class="list-group-item">
                            <strong>v.1.3</strong> - Tarih: 2025-05-20 | Artık yeni ürün eklerken, barkod okuturken arka kamera kullanılabilecek. (mobil için)
                        </li>
                        <li class="list-group-item">
                            <strong>v.1.4</strong> - Tarih: 2025-05-20 | Artık ürün ekleyince var olan bir barkod var ise ürünü getiriyor ve güncellemeni sağlıyor. Artık admin ekranında ki ürünler tamamen silinebilir hale geldi. Satış ekranında barkodsuz ürün girilince ürün bulunamadı diyor ve yeni ürün ekleme ekranına barkod ile yönlendiriyor.
                        </li>
                        <li class="list-group-item">
                            <strong>v.1.5</strong> - Tarih: 2025-05-20 | Admin rapor sayfası ve satış sayfasında iyileştirmeler.
                        </li>
                        <li class="list-group-item">
                            <strong>v.1.6</strong> - Tarih: 2025-05-21 | Makbuz düzenlendi. Rapor paneli istatistikleri güncellendi. Satış sayfasında barkod alanına ocuslar tamamlandı. Gelir gider sayfasında düzenlemeler.
                        </li>
                        <li class="list-group-item">
                            <strong>v.1.7</strong> - Geliştirme hataları giderildi
                        </li>
                        <li class="list-group-item">
                            <strong>v.1.8</strong> - Tarih: 2025-05-21 | Satış işlemleri sayfası eklendi. Artık ürün eklerken yarıda kalan bir işlem veya iptal edilmek istenen bir işlem olduğunda form sıfırlanıyor. müşteri borç veya alacak girerken küsürat girilebilecek. Satış ekranında focus olayı düzeltildi. Rapor ekranı ilk açıldığında günün verileri otomatik geliyor.
                        </li>
                        <li class="list-group-item">
                            <strong>v.1.9</strong> - Tarih: 2025-05-22 | barkod alanı hızlandırma. Toptancı günleri geldiğinde mail atma özelliği. Admin ekranına toptanci sayfası eklendi. Gelir gider kaldırma. Satış sayfası iyileştirmeleri. Admin ana sayfasına yeni istatistikler eklendi.
                        </li>
                        <li class="list-group-item">
                            <strong>v.2.0</strong> - Tarih: 2025-05-23 | Geliştirme hataları giderildi. Toptancı günlerinde gönderilen mail adresi değiştirildi. Satış sonrası geçen süre 1,1 sn olarak ayarlandı. Gereksiz dosyalar kaldırıldı. Hata sayfası düzenlendi. Admin ana sayfasına versiyonlar eklendi.
                        </li>

                        <li class="list-group-item ">
                            <strong>v.2.1</strong> - Tarih: 2025-05-23 | Müşteri borç ödendiğinde Nakit ve Kart şeklinde ödeme tipi seçilecek ve günlük işlemlere yansıyacak.
                        </li>
                        <li class="list-group-item ">
                            <strong>v.2.2</strong> - Tarih: 2025-05-23 | admin ekranı responsive düzenlemeler.  admin rapor sayfası güncellendi artık mobilde daha iyi gözüküyor. Gelir gider sayfası hatası giderildi. admin index responsive olmama hatası giderildi
                        </li>
                        <li class="list-group-item ">
                            <strong>v.2.3</strong> - Tarih: 2025-05-24 | satış yaparken ürün listesine eklenen ürünler en üste geliyor. İşlem beklet butonu artık aktif

                        </li>
                        <li class="list-group-item ">
                            <strong>v.2.4</strong> - Tarih: 2025-05-24 | hızlı ürün ekleme numpad olarak eklenebiliyor. Satış ekranı iyileştirmeleri.

                        </li>
                        <li class="list-group-item ">
                            <strong>v.2.5</strong> - Tarih: 2025-05-24 | Admin ekranı düzenlemeleri


                        </li>
                        <li class="list-group-item ">
                            <strong>v.2.6</strong> - Tarih: 2025-05-25 | İskonto butonu eklendi ve Satış ekranında iyileştirmeler yapıldı.

                        </li>

                        <li class="list-group-item ">
                            <strong>v.2.7</strong> - Tarih: 2025-05-25 | Admin ekranı iyileştirmeleri yapıldı.

                        </li>

                        <li class="list-group-item ">
                            <strong>v.2.8</strong> - Tarih: 2025-05-25 | Bekleyen ürün işlemlerinden sonra focus olayı tamamlandı.
                            Focus işlemleri düzeltildi. login ekranı değişikliği
                        </li>
                        <li class="list-group-item ">
                            <strong>v.2.9</strong> - Tarih: 2025-05-26 | Hata ekranı tasarlandı

                        </li>

                        <li class="list-group-item ">
                            <strong>v.3.0</strong> - Tarih: 2025-05-30 | Satış ekranından borç ödenecek. Satış ekranı yenileme süresi 5 dk düşürüldü
                        </li>

                        <li class="list-group-item ">
                            <strong>v.3.1</strong> - Tarih: 2025-06-01 | Sayfa yenilenme süresi azaltıdı (2dk). urunler sayfası daha hızlı gelsin diye düzenlemeler yapıldı. iade butonu eklendi

                        </li>

                        <li class="list-group-item ">
                            <strong>v.3.2</strong> - Tarih: 2025-06-02 | Satış ekranında barkod gecikmeleri önlemek için düzeltme yapıldı. Admin urunler sayfasında gecikme önlemek için düzenleme yapıldı

                        </li>

                        <li class="list-group-item ">
                            <strong>v.3.3</strong> - Tarih: 2025-06-03 | Admin ekranına istatistikler eklendi.

                        </li>

                        <li class="list-group-item ">
                            <strong>v.3.4</strong> - Tarih: 2025-06-03 | Admin ekranına satış işlem tablosu sıfırlama özelliği geldi. Satış sayfasında düzenlemeler yapıldı. Adet ile ürün ekleme geldi.

                        </li>
                        <li class="list-group-item text">
                            <strong>v.3.5</strong> - Tarih: 2025-06-12 | Etiketler sayfası hataları giderildi ve görsel açıdan iyileştirildi. Artık barkod a göre de aranıyor.Hızlı ürünler sayfası düzenlendi
                        </li>

                        <li class="list-group-item">
                            <strong>v.3.6</strong> - Tarih: 2025-07-05 | Admin ürünler sayfası update edildi daha kolay arama ve güncelleme işlemleri yapılabiliyor. Ana sayfa düzenlemeleri yapıldı. Etikette fazladan 0 yazma sorunu çözüldü.

                        </li>

                        <li class="list-group-item ">
                            <strong>v.3.7</strong> - Tarih: 2025-08-17 | İşlem yapan kullanıcının IP adresi kaydoluyor. Stok kontrol ve otomatik stok işlemleri için altyapı tamamlandı. Günün sözleri ekranı değiştirildi.


                        </li>

                        <li class="list-group-item ">
                            <strong>v.3.8</strong> - Tarih: 2025-09-25 | Toptancı gelir gider takibi ana ekrana eklendi.


                        </li>

                        <li class="list-group-item ">
                            <strong>v.3.9</strong> - Tarih: 2025-09-26 | Müşteri işlemleri artık cascade satış işlemden silinen bir değer müşterinin borcundan da düşüyor. ekran düzenlemeleri yapıldı.


                        </li>

                        <li class="list-group-item text-danger">
                            <strong>v.4.0</strong> - Tarih: 2025-09-27 | Admin ekranı iyileştirmeleri- Müşteriler ve Toptancılar.


                        </li>

                        <li class="list-group-item text-muted text-center">Yeni sürümde eklenenler burada listelenecek.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

</div>


    <!-- Ödeme Bilgi Kartları -->
    <div class="row g-4 mt-4">
        <div class="col-xl-3 col-md-6">
            <div class="card h-100 text-white shadow rounded-4" style="background: linear-gradient(135deg, #0d6efd 0%, #3a8dff 100%);">
                <div class="card-body d-flex flex-column justify-content-center">
                    <strong class="fs-6 text-uppercase opacity-75">Nakit Ödemeler Toplamı</strong>
                    <h3 class="mt-3 fw-bold">@String.Format("{0:C}", ViewBag.NakitToplam ?? 0)</h3>
                </div>
                <div class="card-footer bg-transparent border-0 d-flex justify-content-between align-items-center px-4 pb-3 pt-0">
                    <a href="/GelirGider/RaporPaneli" class="btn btn-sm btn-light text-primary fw-semibold shadow-sm">
                        Detayları Gör
                        <i class="fas fa-arrow-right ms-2"></i>
                    </a>
                </div>
            </div>
        </div>

        <div class="col-xl-3 col-md-6">
            <div class="card h-100 text-white shadow rounded-4" style="background: linear-gradient(135deg, #ffc107 0%, #ffdb4d 100%);">
                <div class="card-body d-flex flex-column justify-content-center">
                    <strong class="fs-6 text-uppercase opacity-75">Kart Ödemeler Toplamı</strong>
                    <h3 class="mt-3 fw-bold">@String.Format("{0:C}", ViewBag.KartToplam ?? 0)</h3>
                </div>
                <div class="card-footer bg-transparent border-0 d-flex justify-content-between align-items-center px-4 pb-3 pt-0">
                    <a href="/GelirGider/RaporPaneli" class="btn btn-sm btn-light text-warning fw-semibold shadow-sm">
                        Detayları Gör
                        <i class="fas fa-arrow-right ms-2"></i>
                    </a>
                </div>
            </div>
        </div>

        <div class="col-xl-3 col-md-6">
            <div class="card h-100 text-white shadow rounded-4" style="background: linear-gradient(135deg, #198754 0%, #55a06e 100%);">
                <div class="card-body d-flex flex-column justify-content-center">
                    <strong class="fs-6 text-uppercase opacity-75">Veresiye Ödemeler Toplamı</strong>
                    <h3 class="mt-3 fw-bold">@String.Format("{0:C}", ViewBag.VeresiyeToplam ?? 0)</h3>
                </div>
                <div class="card-footer bg-transparent border-0 d-flex justify-content-between align-items-center px-4 pb-3 pt-0">
                    <a href="/GelirGider/RaporPaneli" class="btn btn-sm btn-light text-success fw-semibold shadow-sm">
                        Detayları Gör
                        <i class="fas fa-arrow-right ms-2"></i>
                    </a>
                </div>
            </div>
        </div>

        <div class="col-xl-3 col-md-6">
            <div class="card h-100 text-white shadow rounded-4" style="background: linear-gradient(135deg, #dc3545 0%, #e57373 100%);">
                <div class="card-body d-flex flex-column justify-content-center">
                    <strong class="fs-6 text-uppercase opacity-75">En Çok Veresiye Alan Müşteri</strong>
                    <h5 class="mt-3 fw-semibold">
                        @ViewBag.EnCokVeresiyeAlanMusteri <br />
                        <small class="opacity-75">Toplam: @String.Format("{0:C}", ViewBag.EnCokVeresiyeAlanMusteriBorcu ?? 0)</small>
                    </h5>
                </div>
                <div class="card-footer bg-transparent border-0 d-flex justify-content-between align-items-center px-4 pb-3 pt-0">
                    <a href="/Musteri/MusteriGetir/@ViewBag.EnCokVeresiyeAlanMusteriID" class="btn btn-sm btn-light text-danger fw-semibold shadow-sm">
                        Müşteri Detayları
                        <i class="fas fa-arrow-right ms-2"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>




<script>
    // Sözler
    const quotes = [
        "Sabah erken kalkmak sağlıklıdır derler; ben hâlâ araştırma aşamasındayım.",
        "Ofise gitmek için motivasyon yok ama kahve için var.",
        "Evden çalışmanın en zor yanı, buzdolabının çok yakın olması.",
        "Diyet yapıyorum; sadece pizza, hamburger ve tatlı yemiyorum… arada.",
        "Bugün spor yapacaktım, ama spor da bana gelmedi.",
        "Bir gün herkesin internetsiz kalacağına inanıyorum… ve o gün çok korkunç olacak.",
        "Kahve olmadan çalışmak, internetsiz YouTube’a girmek gibi.",
        "Sabahları uyanmak için üç alarm kurarım: uyumak, biraz daha uyumak, çok uyumak.",
        "Pazartesi, cuma kılığına girse hayat daha güzel olurdu.",
        "Ertelemek bir sanattır; ben Picasso’yum.",
        "Cüzdanım kilo vermiş, farkında olmadan diyet yapıyor.",
        "Yarın diyete başlıyorum, ama hangi yarın olduğuna karar vermedim.",
        "Uykusuzluk, benimle uzun süreli bir ilişki yaşıyor.",
        "Telefonun şarjı %1 ise hayat da %1 motivasyon demektir.",
        "Toplantıların %80’i ‘başlayalım mı?’ ile geçiyor.",
        "Bir iş yetişmiyorsa, hemen kahve molası veriyorum.",
        "Hayat kısa, faturalar uzun.",
        "Bazen en büyük başarı, bilgisayarı açmadan günü bitirmektir.",
        "Google, modern çağın anneannesi gibi: her şeyi sorabilirsin.",
        "Alarm çaldığında tek dileğim, pazartesi olmaması.",
        "Yemek yapmak istemiyorum; paket servisle güçlü bir bağ kurdum.",
        "İşe odaklanmaya çalışırken internete odaklanıyorum.",
        "Evde oturmak güzel, ta ki kapıya kargo gelene kadar.",
        "En iyi diyet: Dolabın boş olması.",
        "Motivasyon kayboldu; gören varsa haber versin.",
        "Kahve içmek çözüm değil ama kahvesiz hiç çözüm yok.",
        "Tatildeyken iş aklıma geliyor, işteyken tatil.",
        "Yapacak çok şeyim var, ama önce biraz dinlenmem lazım.",
        "Mükemmel planım var: Hiçbir şey yapmamak.",
        "Pijamayla yapılan iş, daha üretken hissettiriyor.",
        "Dizi izlerken uyuyakaldım, uyanınca kendimi yeni sezonda buldum.",
        "Hayallerim büyük, yatağım daha büyük.",
        "Ofiste en hızlı çalışan şey: dedikodular.",
        "Güne başlamak için en iyi yöntem: yeniden uyumak.",
        "Para mutluluk getirmez ama kahve aldırır.",
        "Telefonum sessizde, hayatım gürültüde.",
        "Üşenmek, aslında enerji tasarrufu yapmaktır.",
        "Trafikte sabırlıyım… ta ki korna sesini duyana kadar.",
        "Yemek sonrası uyku, beynin teşekkür notudur.",
        "Her işin çözümü: ‘Boşver, yarın bakarız.’",
        "Motivasyonum düştü, şarj cihazı arıyorum.",
        "Bir insanın gerçek yüzü, açken ortaya çıkar.",
        "Tembellik yaparken asla hata yapmazsın.",
        "Bugün erken yatacağım dedim; sabah oldu.",
        "Ev işi yaparken müzik dinlemek, olimpik bir spordur.",
        "Birlikte kilo alıp birlikte pişman olmak: arkadaşlık budur.",
        "Kahkahasız bir gün, internetsiz bir güne benzer.",
        "Telefon kamerası, yemeği göze daha lezzetli yapar.",
        "Çalışmak güzel de, maaş günü daha güzel.",
        "En sevdiğim egzersiz: Buzdolabına yürümek.",
        "Hayatımı özetle: Yat – kalk – kahve – şikayet."
    ];


    // Sayfa yüklendiğinde işlem yap
    document.addEventListener("DOMContentLoaded", function () {
        const quoteEl = document.getElementById("dailyQuote");

        // 2 saniye beklet
        setTimeout(() => {
            const index = Math.floor(Math.random() * quotes.length);
            quoteEl.textContent = quotes[index];
            quoteEl.style.opacity = "1"; // Fade-in efekti
        }, 2500);
    });
</script>

